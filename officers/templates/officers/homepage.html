{% extends 'officers/base.html' %}{% block title%}Dashboard | {{user.officialsprofile.officer|title}}{% endblock %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="" name="description">
	<meta content="" name="keywords">
</head>
<body>
	{% block content %}
  
	<main id="main" class="main">
		<section class="section dashboard">
			<div class="row">
				<div class="col-lg-8">
					<div class="row">
						<div class="col-xxl-4 col-md-6">
							<div class="card info-card reported-crimes-card">

								<div class="filter">
									<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
									<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
										<li class="dropdown-header text-start">
										<h6>Filter</h6>
										</li>

										<li><a class="dropdown-item" href="#">Today</a></li>
										<li><a class="dropdown-item" href="#">This Month</a></li>
										<li><a class="dropdown-item" href="#">This Year</a></li>
									</ul>
								</div>

								<div class="card-body">
									<h5 class="card-title">Reported Crimes <span>| Today</span></h5>
									<div class="d-flex align-items-center">
										<div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
											<i class="bi bi-megaphone-fill"></i>
										</div>
										<div class="ps-3">
											<h6>{{total_crimes}}</h6>
											<span class="text-success small pt-1 fw-bold">12%</span> <span class="text-muted small pt-2 ps-1">increase</span>
										</div>
									</div>
								</div>

							</div>
						</div>

						<div class="col-xxl-4 col-md-6">
							<div class="card info-card filed-cases-card">
								<div class="filter">
									<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
									<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
										<li class="dropdown-header text-start">
										<h6>Filter</h6>
										</li>

										<li><a class="dropdown-item" href="#">Today</a></li>
										<li><a class="dropdown-item" href="#">This Month</a></li>
										<li><a class="dropdown-item" href="#">This Year</a></li>
									</ul>
								</div>

								<div class="card-body">
									<h5 class="card-title">Filed Cases <span>| This Month</span></h5>

									<div class="d-flex align-items-center">
										<div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
										<i class="bi bi-folder-check"></i>
										</div>
										<div class="ps-3">
										<h6>{{filed_cases}}</h6>
										<span class="text-success small pt-1 fw-bold">8%</span> <span class="text-muted small pt-2 ps-1">increase</span>

										</div>
									</div>
								</div>

							</div>
						</div>

						<div class="col-xxl-4 col-md-6">
							<div class="card info-card pending-cases-card">
								<div class="filter">
									<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
									<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
										<li class="dropdown-header text-start">
										<h6>Filter</h6>
										</li>

										<li><a class="dropdown-item" href="#">Today</a></li>
										<li><a class="dropdown-item" href="#">This Month</a></li>
										<li><a class="dropdown-item" href="#">This Year</a></li>
									</ul>
								</div>

								<div class="card-body">
									<h5 class="card-title">Pending Case Files <span>| This Month</span></h5>

									<div class="d-flex align-items-center">
										<div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
										<i class="bi bi-folder-symlink-fill"></i>
										</div>
										<div class="ps-3">
										<h6>{{pending}}</h6>
										<span class="text-success small pt-1 fw-bold">8%</span> <span class="text-muted small pt-2 ps-1">increase</span>

										</div>
									</div>
								</div>

							</div>
						</div>

						<div class="col-xxl-4 col-md-6">
							<div class="card info-card wanted-suspects-card">
								<div class="filter">
									<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
									<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
										<li class="dropdown-header text-start">
										<h6>Filter</h6>
										</li>

										<li><a class="dropdown-item" href="#">Today</a></li>
										<li><a class="dropdown-item" href="#">This Month</a></li>
										<li><a class="dropdown-item" href="#">This Year</a></li>
									</ul>
								</div>

								<div class="card-body">
									<h5 class="card-title">Wanted Suspects <span>| This Month</span></h5>

									<div class="d-flex align-items-center">
										<div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
										<i class="bi bi-exclamation-triangle-fill"></i>
										</div>
										<div class="ps-3">
										<h6>{{total_suspects}}</h6>
										<span class="text-success small pt-1 fw-bold">8%</span> <span class="text-muted small pt-2 ps-1">increase</span>

										</div>
									</div>
								</div>

							</div>
						</div>

						<div class="col-xxl-4 col-xl-12">
							<div class="card info-card customers-card">

								<div class="filter">
									<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
									<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
										<li class="dropdown-header text-start">
										<h6>Filter</h6>
										</li>

										<li><a class="dropdown-item" href="#">Today</a></li>
										<li><a class="dropdown-item" href="#">This Month</a></li>
										<li><a class="dropdown-item" href="#">This Year</a></li>
									</ul>
								</div>

								<div class="card-body">
									<h5 class="card-title">Total Officers <span>| This Month</span></h5>

									<div class="d-flex align-items-center">
										<div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
										<i class="bi bi-people-fill"></i>
										</div>
										<div class="ps-3">
										<h6>{{total_officers}}</h6>
										<span class="text-danger small pt-1 fw-bold">12%</span> <span class="text-muted small pt-2 ps-1">decrease</span>

										</div>
									</div>

								</div>
							</div>
						</div>

						<div class="col-12">
							<div class="card">

								<div class="filter">
								<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
								<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
									<li class="dropdown-header text-start">
									<h6>Filter</h6>
									</li>

									<li><a class="dropdown-item" href="#">Today</a></li>
									<li><a class="dropdown-item" href="#">This Month</a></li>
									<li><a class="dropdown-item" href="#">This Year</a></li>
								</ul>
								</div>

								<div class="card-body">
									<h5 class="card-title">Reports <span>/Today</span></h5>

									<!-- Line Chart -->
									<div id="reportsChart"></div>
									<script>
										document.addEventListener("DOMContentLoaded", () => {
										new ApexCharts(document.querySelector("#reportsChart"), {
											series: [{
											name: 'Sales',
											data: [31, 40, 28, 51, 42, 82, 56],
											}, {
											name: 'Revenue',
											data: [11, 32, 45, 32, 34, 52, 41]
											}, {
											name: 'Customers',
											data: [15, 11, 32, 18, 9, 24, 11]
											}],
											chart: {
											height: 350,
											type: 'area',
											toolbar: {
												show: false
											},
											},
											markers: {
											size: 4
											},
											colors: ['#4154f1', '#2eca6a', '#ff771d'],
											fill: {
											type: "gradient",
											gradient: {
												shadeIntensity: 1,
												opacityFrom: 0.3,
												opacityTo: 0.4,
												stops: [0, 90, 100]
											}
											},
											dataLabels: {
											enabled: false
											},
											stroke: {
											curve: 'smooth',
											width: 2
											},
											xaxis: {
											type: 'datetime',
											categories: ["2018-09-19T00:00:00.000Z", "2018-09-19T01:30:00.000Z", "2018-09-19T02:30:00.000Z", "2018-09-19T03:30:00.000Z", "2018-09-19T04:30:00.000Z", "2018-09-19T05:30:00.000Z", "2018-09-19T06:30:00.000Z"]
											},
											tooltip: {
											x: {
												format: 'dd/MM/yy HH:mm'
											},
											}
										}).render();
										});
									</script>
									<!-- End Line Chart -->
								</div>
							</div>
						</div>

						<div class="col-12">
							<div class="card recent-sales overflow-auto">
								<div class="filter">
									<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
									<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
										<li class="dropdown-header text-start">
										<h6>Filter</h6>
										</li>

										<li><a class="dropdown-item" href="#">Today</a></li>
										<li><a class="dropdown-item" href="#">This Month</a></li>
										<li><a class="dropdown-item" href="#">This Year</a></li>
									</ul>
								</div>

								<div class="card-body">
									<h5 class="card-title">Reported Crimes <span>| Today</span></h5>
									<table class="table table-bordered table-hover">
										<thead>
											<tr>
												<th scope="col">#</th>
												<th scope="col">Crime</th>
												<th scope="col">Description</th>
												<th scope="col">Location</th>
												<th scope="col">Date of crime</th>
												<th scope="col">Status</th>
											</tr>
										</thead>
										<tbody>
											{% for crime in reported_crimes %}
											<tr>
												<td scope="row"><a href="{% url 'case_file' crime.case_file_no crime.suspect_name %}">{{forloop.counter}}</a></td>
												<td>{% if crime.crime_status is not None %}<a href="{% url 'file_reported_crime' crime.case_file_no crime.suspect_name %}">{{crime.type_of_crime}}</a>{% else %}{{crime.type_of_crime}}{% endif %}</td>
												<td><h6>{{crime.description|truncatewords:7}}</h6></td>
												<td>{{crime.location}}</td>
												<td>{{crime.date_of_crime|timesince|slice:":6"}} ago</td>
												<td>{% if crime.crime_status == 'File Case' %}<span class="badge bg-info">Case Filed</span>{% elif crime.crime_status == 'Police carrying out investigation' %}<span class="badge bg-primary">Investigation</span>{% elif crime.crime_status == 'Suspect(s) Arrested' %}<span class="badge bg-warning">Arrested</span>{% elif crime.crime_status == 'Suspect(s) Interrogated' %}<span class="badge bg-success">Interrogating</span>{% elif crime.crime_status == 'Suspect(s) Sentenced' %}<span class="badge bg-primary">Jailed</span>{% elif crime.crime_status %}<span class="badge bg-danger">Case closed</span>{% endif %}</td>
											</tr>
											{% endfor %}
										</tbody>
									</table>
								</div>
							</div>
						</div>

						<div class="col-12">
							<div class="card top-selling overflow-auto">
								<div class="card-body pb-0">
									<h5 class="card-title">Wanted Suspects</h5>
									<table class="table table-bordered table-condensed table-hover">
										<thead>
											<tr>
												<th scope="col">Image</th>
												<th scope="col">Suspect Details</th>
												<th scope="col">Last Seen</th>
												<th scope="col">Status</th>
											</tr>
										</thead>
										<tbody>
											{% for suspect in wanted_suspects %}
											<tr>
												<td scope="row" class="text-center"><a href="{% url 'homepage' %}"><img src="{{suspect.suspect_pic.url}}" alt="img" class="rounded-circle img-fluid" height="100px" width="100px"></a></td>
												<td>
													<b>Name: </b><a href="{% url 'homepage' %}" class="text-primary fw-bold">{{suspect.suspect_name|title}}</a>
													<h6 class="mb-0"><b>Alias: </b>{{suspect.alias|default:"--"}}</h6>
													<h6 class="mb-0"><b>Gender: </b>{{suspect.gender|default:"--"}}</h6>
													<h6 class="mb-0"><b>Crime: </b>{{suspect.crime|default:"--"}}</h6>
													<h6 class="mb-0"><b>Bounty: </b>{{suspect.bounty|default:"Kshs.0"}}</h6>
												</td>
												<td>{{suspect.last_seen}}</td>
												<td>{% if suspect.status == 'Hiding' %}<span class="badge bg-danger">Hiding</span>{% else %}<span class="badge bg-success">{{suspect.status}}</span>{% endif %}</td>
											</tr>
											{% endfor %}
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
				
				<div class="col-lg-4">
					<div class="card">
						<div class="card-body">
							<h5 class="card-title">Recent Activity <span>| Today</span></h5>
							<div class="activity">
								{% for recent in reported_today %}
								<div class="activity-item d-flex">
									<div class="activite-label">{{recent.crime_reported|timesince|slice:":7"}} ago</div>
									{% if recent.type_of_crime == 'Burglary' %}
									<i class='bi bi-circle-fill activity-badge text-info align-self-start'></i>
									{% elif recent.type_of_crime == 'Robbery' %}
									<i class='bi bi-circle-fill activity-badge text-primary align-self-start'></i>
									{% elif recent.type_of_crime == 'Selling Drugs' %}
									<i class='bi bi-circle-fill activity-badge text-success align-self-start'></i>
									{% elif recent.type_of_crime == 'Sexual Assault' %}
									<i class='bi bi-circle-fill activity-badge text-warning align-self-start'></i>
									{% elif recent.type_of_crime == 'Terrorism' %}
									<i class='bi bi-circle-fill activity-badge text-danger align-self-start'></i>
									{% else %}
									<i class='bi bi-circle-fill activity-badge text-secondary align-self-start'></i>
									{% endif %}
									<div class="activity-content">
										<a class="fw-bold text-dark" href="{% url 'file_reported_crime' recent.case_file_no recent.suspect_name %}">{{recent.description|truncatewords:7}}</a>
									</div>
								</div>
								{% endfor %}
								
							</div>
						</div>
					</div>

					<div class="card">
						<div class="filter">
							<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
							<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
								<li class="dropdown-header text-start">
								<h6>Filter</h6>
								</li>

								<li><a class="dropdown-item" href="#">Today</a></li>
								<li><a class="dropdown-item" href="#">This Month</a></li>
								<li><a class="dropdown-item" href="#">This Year</a></li>
							</ul>
						</div>

						<div class="card-body pb-0">
							<h5 class="card-title">Budget Report <span>| This Month</span></h5>

							<div id="budgetChart" style="min-height: 400px;" class="echart"></div>

							<script>
								document.addEventListener("DOMContentLoaded", () => {
								var budgetChart = echarts.init(document.querySelector("#budgetChart")).setOption({
									legend: {
									data: ['Allocated Budget', 'Actual Spending']
									},
									radar: {
									// shape: 'circle',
									indicator: [{
										name: 'Sales',
										max: 6500
										},
										{
										name: 'Administration',
										max: 16000
										},
										{
										name: 'Information Technology',
										max: 30000
										},
										{
										name: 'Customer Support',
										max: 38000
										},
										{
										name: 'Development',
										max: 52000
										},
										{
										name: 'Marketing',
										max: 25000
										}
									]
									},
									series: [{
									name: 'Budget vs spending',
									type: 'radar',
									data: [{
										value: [4200, 3000, 20000, 35000, 50000, 18000],
										name: 'Allocated Budget'
										},
										{
										value: [5000, 14000, 28000, 26000, 42000, 21000],
										name: 'Actual Spending'
										}
									]
									}]
								});
								});
							</script>
						</div>
					</div>

					<div class="card">
						<div class="filter">
							<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
							<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
								<li class="dropdown-header text-start">
								<h6>Filter</h6>
								</li>

								<li><a class="dropdown-item" href="#">Today</a></li>
								<li><a class="dropdown-item" href="#">This Month</a></li>
								<li><a class="dropdown-item" href="#">This Year</a></li>
							</ul>
						</div>

						<div class="card-body pb-0">
							<h5 class="card-title">Crime Rate <span>| Today</span></h5>

							<div id="trafficChart" style="min-height: 400px;" class="echart"></div>

							<script>
								document.addEventListener("DOMContentLoaded", () => {
								echarts.init(document.querySelector("#trafficChart")).setOption({
									tooltip: {
									trigger: 'item'
									},
									legend: {
									top: '5%',
									left: 'center'
									},
									series: [{
									name: 'Access From',
									type: 'pie',
									radius: ['40%', '70%'],
									avoidLabelOverlap: false,
									label: {
										show: false,
										position: 'center'
									},
									emphasis: {
										label: {
										show: true,
										fontSize: '18',
										fontWeight: 'bold'
										}
									},
									labelLine: {
										show: false
									},
									data: [{
										value: 1048,
										name: 'Terrorism'
										},
										{
										value: 735,
										name: 'Buglary'
										},
										{
										value: 580,
										name: 'Robbery & Theft'
										},
										{
										value: 484,
										name: 'Sexual Assault'
										},
										{
										value: 300,
										name: 'Drugs'
										}
									]
									}]
								});
								});
							</script>
						</div>
					</div>

					<div class="card">
						<div class="filter">
							<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
							<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
								<li class="dropdown-header text-start">
								<h6>Filter</h6>
								</li>

								<li><a class="dropdown-item" href="#">Today</a></li>
								<li><a class="dropdown-item" href="#">This Month</a></li>
								<li><a class="dropdown-item" href="#">This Year</a></li>
							</ul>
						</div>

						<div class="card-body pb-0">
							<h5 class="card-title">News &amp; Updates <span>| Today</span></h5>

							<div class="news">
								<div class="post-item clearfix">
									<img src="{% static 'criminal.jpg' %}" alt="">
									<h4><a href="#">Nihil blanditiis at in nihil autem</a></h4>
									<p>Sit recusandae non aspernatur laboriosam. Quia enim eligendi sed ut harum...</p>
								</div>

								<div class="post-item clearfix">
									<img src="{% static 'criminal.jpg' %}" alt="">
									<h4><a href="#">Quidem autem et impedit</a></h4>
									<p>Illo nemo neque maiores vitae officiis cum eum turos elan dries werona nande...</p>
								</div>

								<div class="post-item clearfix">
									<img src="{% static 'criminal.jpg' %}" alt="">
									<h4><a href="#">Id quia et et ut maxime similique occaecati ut</a></h4>
									<p>Fugiat voluptas vero eaque accusantium eos. Consequuntur sed ipsam et totam...</p>
								</div>

								<div class="post-item clearfix">
									<img src="{% static 'criminal.jpg' %}" alt="">
									<h4><a href="#">Laborum corporis quo dara net para</a></h4>
									<p>Qui enim quia optio. Eligendi aut asperiores enim repellendusvel rerum cuder...</p>
								</div>

								<div class="post-item clearfix">
									<img src="{% static 'criminal.jpg' %}" alt="">
									<h4><a href="#">Et dolores corrupti quae illo quod dolor</a></h4>
									<p>Odit ut eveniet modi reiciendis. Atque cupiditate libero beatae dignissimos eius...</p>
								</div>

							</div>
							
						</div>
					</div>

				</div>
			</div>
		</section>
	</main>
	{% endblock %}
	
</body>
</html>
